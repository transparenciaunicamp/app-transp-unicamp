<!DOCTYPE html>
<!--HTML5 doctype-->
<html>

<head>

    <title>Transparência Unicamp</title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <link rel="stylesheet" type="text/css" href="lib/appframework/icons.css" />
    <link rel="stylesheet" type="text/css" href="lib/appframework/af.ui.css" />
    <link rel="stylesheet" type="text/css" href="lib/appframework/style.css" />

    <script type="text/javascript" charset="utf-8" src="lib/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="lib/fastclick.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="lib/facebook.js"></script>
        <script type="text/javascript" charset="utf-8" src="lib/table.js"></script>
    <script type="text/javascript" charset="utf-8" src="lib/appframework/appframework.ui.min.js"></script>  
    <script>
        Facebook.start();
    </script>
    <script src='cordova.js'></script>

</head>

<body bgcolor="white !important" onload="fixMargin()">

    <div id="splashscreen" class='ui-loader heavy'>
        Transparência Unicamp
        <br>
        <br>
        <span class='ui-icon ui-icon-loading spin'></span>
        <h1>Transparência Unicamp</h1>
    </div>

    <style>
        #map { position:absolute; top:0; left:0; width:100%; }
    </style>
    <style>
        .one {background-color: #FFFFFF; padding: 15px 15px; margin: 0px 0px}
        .anotherOne {background-color: #F0F0F0; padding: 15px 15px; margin: 0px 0px}
    </style>
    <div class="view">
       
        <header>
            <img id="logo" src="lib/images/logo-03.png" height="80%" style="float:left; margin-left:8%">
            <h1 id="h1" class="nos-title">Titulo</h1>
        </header>

        <div class="pages">

            <!--Tab View Pages-->
            <div class="panel mapHere" data-title="MAPA" id="tab1" style="padding: 0px 0px">
                
            </div>

            <div class="panel" data-title="TIMELINE" id="tab2" data-selected="true"  style="padding: 0px 0px">
                <div class="grid" id="myTable">
                </div>
            </div>

            <div class="panel" data-title="FAQ" id="tab3">
                <br>
                This is view for third Tab
            </div>

        </div>
        
         <footer>
            <a href="#tab1" onclick="$.afui.clearHistory();showMap();"><img id="map_icon" src="lib/images/menu/mapa-vazio-03.png" height="80%"></a>
            <a href="#tab2" onclick="$.afui.clearHistory()"><img src="lib/images/menu/timeline-vazio-03.png" height="80%"></a>
            <a href="#tab3" onclick="$.afui.clearHistory();"><img src="lib/images/menu/faq-vazio-03.png" height="80%"></a>
        </footer>
        
    </div>

    <script type="text/javascript">
        
        var mapShown = false
        
        function showMap() {
            if(!mapShown) {
                var map = $("<div class='map'><iframe id='mapFrame' onload='ifFrameLoaded()' height='100%' width='100%' frameBorder='0' src='https://a.tiles.mapbox.com/v4/transparenciaunicamp.057nf8mf/attribution,zoompan,zoomwheel.html?access_token=pk.eyJ1IjoidHJhbnNwYXJlbmNpYXVuaWNhbXAiLCJhIjoiY2lvYWYzdzhsMDNpN3cxa3F0M2czaGtraiJ9.Snu_l3HM0COOW0V39I0LvA'></iframe></div>")
                map.appendTo('.mapHere')
                mapShown = true
            }
        }
        
        function ifFrameLoaded() {
            $('#mapFrame').css('height', $(window).height()+'px');
        }
        
        
        
        function fixMargin() {
            var scrollTop     = $(window).scrollTop(),
                elementOffset = $('.pages').offset().top,
                distance      = (elementOffset - scrollTop);
        
            var el = document.getElementById("h1")
            var style = window.getComputedStyle(el, null).getPropertyValue('font-size');
            var fontSize = parseFloat(style); 
            
            
            var margin = ( distance - (fontSize + 1) ) / 2
            
            console.log(margin)
            
            
            $('#logo').css('margin-bottom', margin+'px');
            
            
        }
        

    </script>

</body>

</html>
