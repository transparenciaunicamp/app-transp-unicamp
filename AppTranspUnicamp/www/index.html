<!DOCTYPE html>
<!--HTML5 doctype-->
<html>

<head>

    <title>Transparência Unicamp</title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <link rel="stylesheet" type="text/css" href="lib/appframework/icons.css" />
    <link rel="stylesheet" type="text/css" href="lib/appframework/af.ui.css" />
    <link rel="stylesheet" type="text/css" href="lib/appframework/style.css" />

    <script type="text/javascript" charset="utf-8" src="lib/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="lib/fastclick.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="lib/facebook.js"></script>
        <script type="text/javascript" charset="utf-8" src="lib/table.js"></script>
    <script type="text/javascript" charset="utf-8" src="lib/appframework/appframework.ui.min.js"></script>  
    <script>
        Facebook.start();
    </script>
    <script src='cordova.js'></script>

</head>

<body>

    <div id="splashscreen" class='ui-loader heavy'>
        Transparência Unicamp
        <br>
        <br>
        <span class='ui-icon ui-icon-loading spin'></span>
        <h1>Transparência Unicamp</h1>
    </div>

    <style>
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
    <style>
        .one {background-color: #FFFFFF}
        .anotherOne {background-color: #9D9D9C}
    </style>
    <div class="view">
       
        <header>
            <h1 class="nos-title">Titulo</h1>
        </header>

        <div class="pages">

            <!--Tab View Pages-->
            <div class="panel mapHere" data-title="MAPA" id="tab1">
                
            </div>

            <div class="panel" data-title="TIMELINE" id="tab2" data-selected="true">
                <br>
                <div class="grid" id="myTable">
                </div>
            </div>

            <div class="panel" data-title="FAQ" id="tab3">
                <br>
                This is view for third Tab
            </div>

        </div>
        
         <footer>
<!--
             <div class="grid">
                 <div class="col3"><a>TesteA</a></div>
                 <div class="col3"><a>TesteB</a></div>
                 <div class="col3"><a>TesteC</a></div>
             </div>
-->

            <a href="#tab1" class="icon location" onclick="$.afui.clearHistory();showMap()">Mapa</a>
            <a href="#tab2" class="icon home" onclick="$.afui.clearHistory()">Timeline</a>
            <a href="#tab3" class="icon question" onclick="$.afui.clearHistory()">FAQ</a>
        </footer>
        
    </div>

    <script type="text/javascript">
        
        var mapShown = false
        
        function showMap() {
            if(!mapShown) {
                var map = $("<div class='map'><iframe id='mapFrame' onload='ifFrameLoaded()' height='400px' width='100%' frameBorder='0' src='https://a.tiles.mapbox.com/v4/transparenciaunicamp.057nf8mf/attribution,zoompan,zoomwheel.html?access_token=pk.eyJ1IjoidHJhbnNwYXJlbmNpYXVuaWNhbXAiLCJhIjoiY2lvYWYzdzhsMDNpN3cxa3F0M2czaGtraiJ9.Snu_l3HM0COOW0V39I0LvA'></iframe></div>")
                map.appendTo('.mapHere')
                mapShown = true
            }
        }
        
        function ifFrameLoaded() {
            var height = screen.height * 0.95
            var frame = $('#mapFrame')
            if(frame) {
                frame.height = ""
                frame.height = height + 'px'
                console.log(frame.height)
            }
        }

    </script>

</body>

</html>